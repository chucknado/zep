import json
from modules import KB


kb = KB('zendesk')
dita_map = kb.read_dita_map()
published = [203657756, 203659776, 203659866, 203659916, 203659936, 203660006, 203660016, 203660056, 203660086,
             203660126, 203660146, 203660396, 203660656, 203660756, 203660816, 203660856, 203661126, 203661466,
             203661496, 203661506, 203661516, 203661556, 203661576, 203661586, 203661616, 203661626, 203661636,
             203661646, 203661666, 203661756, 203661826, 203661966, 203661976, 203661986, 203661996, 203662006,
             203662016, 203662026, 203662046, 203662056, 203662066, 203662076, 203662086, 203662096, 203662106,
             203662116, 203662126, 203662136, 203662176, 203662206, 203662256, 203662266, 203662276, 203662286,
             203662296, 203662346, 203662356, 203663126, 203663156, 203663196, 203663236, 203663246, 203663256,
             203663276, 203663286, 203663296, 203663336, 203663356, 203663366, 203663376, 203663386, 203663556,
             203663566, 203663576, 203663596, 203663606, 203663616, 203663626, 203663636, 203663666, 203663676,
             203663686, 203663696, 203663706, 203663726, 203663736, 203663746, 203663756, 203663766, 203663786,
             203663796, 203663806, 203663816, 203663926, 203663946, 203663976, 203664346, 203664356, 203664366,
             203664396, 203664416, 203690796, 203690806, 203690816, 203690846, 203690856, 203690866, 203690876,
             203690886, 203690896, 203690906, 203690916, 203690926, 203690936, 203690946, 203690956, 203690966,
             203690976, 203690996, 203691026, 203691046, 203691066, 203691106, 203691116, 203691126, 203691136,
             203691146, 203691156, 203691246, 203755166, 203908456, 203981113, 204108983, 204113956, 204256073,
             204281156, 204281436, 204526243, 205586568, 212623648, 213435987, 213519318, 214631347, 216598808,
             217101828, 218004987, 218113638, 218222877]

updated = []
for article in dita_map:
    if article['hc'] in published:
        updated.append(article)
        published.remove(article['hc'])

print(published)
with open('updated_files', mode='w') as f:
    json.dump(updated, f, sort_keys=True, indent=2)

